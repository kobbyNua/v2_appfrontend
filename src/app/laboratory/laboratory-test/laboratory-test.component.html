<div class="wrapper">
    <app-topnavbar></app-topnavbar>
    <app-laboratory-sidebar></app-laboratory-sidebar>
    <div class="content-wrapper">
        <div class="content-header">
              <div class="container-fluid">
                    <div class="row mb-2">
                            <div class="col-sm-6">
                                   <h1 class="m-0">Laboratory</h1>
                            </div><!-- /.col -->
                            <div class="col-sm-6">
                                 <ol class="breadcrumb float-sm-right">
                                       <li class="breadcrumb-item"><a href="#">Home</a></li>
                                       <li class="breadcrumb-item active">lab setup</li>
                                 </ol>
                            </div><!-- /.col -->
                    </div><!-- /.row -->
               </div><!-- /.container-fluid -->
        </div>
        <section class="content">
            <div class="container-fluid">
            
                <div class="row">
                    <div class="col-md-12">
                          <div class="card card-primary card-tabs">
                                <div class="card-header p-0 pt-1">
                                      <ul class="nav nav-tabs" id="custom-tabs-four-tab" role="tablist">


                                                <li class="nav-item">
                                                  <a class="nav-link active" id="custom-tabs-three-home-tab" data-toggle="pill" href="#custom-tabs-three-home" role="tab" aria-controls="custom-tabs-three-home" aria-selected="true">Lab Tests Details</a>
                                                </li>
                                                <li class="nav-item">
                                                  <a class="nav-link" id="custom-tabs-three-profile-tab" data-toggle="pill" href="#custom-tabs-three-profile" role="tab" aria-controls="custom-tabs-three-profile" aria-selected="false">Create Lab Test</a>
                                                </li>


                                      </ul>
                                </div>

                                <div class="card-body">

                                        <div class="tab-content" id="custom-tabs-three-tabContent">

                                               <div class="tab-pane fade show active" id="custom-tabs-three-home" role="tabpanel" aria-labelledby="custom-tabs-three-home-tab">
                                                       <div class="container">
                                                                     <div class="row">

                                                                           <div class="col-md-12 col-12">
                                                                                 <div class="table-resopnsive">
                                                                                    <table class="table table-bordered">
                                                                                        <tr>
                                                                                            <td>Test Type</td>
                                                                                            <td>Serial Code</td>
                                                                                            <td>Cost</td>
                                                                                            <td>View Details</td>
                                                                                        </tr>
                                                                                        <tr *ngFor="let test of labtestList">
                                                                                               <td>{{test.lab_test}}</td>
                                                                                               <td>{{test.serial_code}}</td>
                                                                                               <td>{{test.cost}}</td>
                                                                                               <td><a [routerLink]="['/laboratory','laboratory-test','laboratory-test-details',test.serial_code]">view details</a></td>
                                                                                        </tr>
                                                                                  </table>
                                                                                 </div>
                                                                           </div>
                                                                      </div>
                                                        </div>
                                                </div>
                                                <div class="tab-pane fade" id="custom-tabs-three-profile" role="tabpanel" aria-labelledby="custom-tabs-three-profile-tab">
                                                    {{response|json}}
                                                    <form [formGroup]="labtest_forms" (ngSubmit)="createLabTestDetails(labForm)" #labForm="ngForm">
                                                        <div class="success" *ngIf="lab_test_request=='success'">
                                                            {{lab_test_response}}
                                                        </div>
                                                        <div formArrayName="lab_test_price" >
                                                            <div class="row">
                                                                <div class="col-md-4 mt-2 mb-2">
                                                                    <button (click)="addLabTestPrice()" class="btn btn-success"  type="button">+ add more fields </button>
                                                                </div>
                                                                
                                                            </div>
                                                            <div class="row" *ngFor="let labinput of labtest_forms.get('lab_test_price')['controls'];index as i" formGroupName="{{i}}">
                                                                <div class="col-md-5">
                                                                    <div class="form-group">
                                                                        <input type="text" class="form-control" placeholder="lab test" formControlName="lab_test">
                                                                    </div>
                                                                    
                                                                </div>  
                                                                <div class="col-md-5">
                                                                      <div class="form-group">
                                                                        <input type="text" class="form-control" placeholder="lab price" formControlName="lab_price">
                                                                      </div>
                                                                   
                                                                </div>
                                                                <div class="col-md-2">
                                                                    <button type="button" class="btn btn-danger" (click)="removeLabTestPrice(i)">-</button>
                                                                </div>
                                                                
                                                            </div>
                                                            
                                                    
                                                        </div>
                                                        <input type="submit" value="create new lab test details" class="btn btn-info">
                                                        
                                                    </form>
                                                </div>
                                        </div>





                                </div>
                            </div>
                    </div>
                </div>





            </div>
        </section>


    </div>

<!--

-->

        <app-footer></app-footer>
</div> 
